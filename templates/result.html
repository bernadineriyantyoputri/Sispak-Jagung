<!DOCTYPE html>
<html>
<head>
    <title>Hasil Diagnosa</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>

<body class="bg-light">

<div class="container mt-4">

    {% if best %}
    <div class="card shadow">
        <div class="card-header bg-success text-white">
            <h4>Hasil Diagnosa Akhir</h4>
        </div>

        <div class="card-body text-center">

            <h5 class="fw-bold">{{ best.name}}</h5>

            <div class="alert alert-success mt-3">
                <strong>Tingkat Keyakinan (Certainty Factor)</strong><br>
                <span class="fs-4">
                    {{ (best.cf * 100) | round(2) }} %
                </span>
            </div>

            <p class="mt-3">
                {{ best.description }}
            </p>

            <hr>

            <h6 class="text-start">Detail Perhitungan Gejala:</h6>
            <ul class="list-group text-start">
                {% for s, v in best.conditions_evidence.items() %}
                <li class="list-group-item d-flex justify-content-between">
                    <span>{{ symptoms[s] }}</span>
                    <span class="badge bg-secondary">
                        {{ v | round(2) }}
                    </span>
                </li>
                {% endfor %}
            </ul>

            <a href="/diagnose" class="btn btn-secondary mt-4">
                Diagnosa Lagi
            </a>
        </div>
    </div>

    {% else %}
    <div class="alert alert-warning">
        Tidak ada penyakit yang cocok berdasarkan gejala yang dipilih.
    </div>
    <a href="/diagnose" class="btn btn-secondary mt-3">
        Diagnosa Lagi
    </a>
    {% endif %}

</div>

</body>
</html>
